üõ†Ô∏è Dynamic Reflection Saga Mode (DRSM) - Progression Systems üõ†Ô∏è

Goal: Integrate character leveling, gear customization (MUA), and the Snag/Purification resource loop (Colosseum/Ranger) to ensure sustained player engagement and tactical depth across the 9-Book Saga.

1. Character Leveling and Stat Growth (Colosseum Core)

Every hero (including the Reflector) levels up individually.

Experience Points (XP): XP is awarded for defeating enemies, completing missions, and securing successful Snags. XP distribution is split evenly across the four active heroes (MUA style).

Level Up: Upon leveling, the hero's six core OAS stats (HP, ATK, S-ATK, DEF, S-DEF, SPD) increase based on their inherent growth rate (akin to Pok√©mon base stats).

Stat Focus: Brawlers (Mario, Falcon) have high ATK/HP growth. Swordsmen (Marth, Link) have balanced ATK/DEF. Mages (Zelda, Mewtwo) have high S-ATK/S-DEF.

Move Unlocks: At specific level milestones (e.g., Level 5, 15, 25), characters permanently unlock additional abilities, passive buffs, or stronger versions of their four core B-Moves.

2. Artifacts, Gear, and Customization (MUA Gear)

Artifacts are the primary way to customize and enhance hero stats beyond leveling.

Artifact Slots: Each hero has three equipment slots for Artifacts (similar to MUA gear/badges).

Core Artifact: Modifies HP and KO Factor (KF) resistance.

Flow Artifact: Modifies SPD and Empathy Gauge generation rate.

Damage Artifact: Modifies ATK or S-ATK (based on the hero's primary damage type).

Loot: Artifacts are dropped by defeated Shadow Commanders (Mid-Bosses) and Bosses. The quality and rarity of the Artifact are determined by the complexity of the OAS Mechanics Check in the mission.

Example: Mission 12 (Shadow Marth's Ultimate Counter) rewards a high-level Flow Artifact that gives a passive +10% to Grab range, directly compensating for the difficulty of the Throw Check.

Aesthetic Integration: Equipped Artifacts add subtle visual flair to the hero model (e.g., a glowing wristband for a higher ATK stat, a shimmering aura for increased SPD).

3. The Empathy & Purification Loop (Reflector's Core)

This is the central resource economy, managed primarily by the Adaptive Reflector.

Empathy Gauge (Resource): This resource is the literal "flow" and complexity of movement gathered from combat. It is generated by:

Perfect Input: Landing a perfect parry, dodge, or executing a complex combo (rewards dynamic play).

Fusion Attack: Executing a Fusion Attack generates a guaranteed large chunk of Empathy.

The Purification Chamber (Colosseum: Located in the Nexus Colosseum hub. Empathy is spent here to speed up the purification of newly Snagged Shadow Fighters.

Mechanic: A Shadow Fighter is initially Unstable and cannot be used in combat. Spending Empathy fills their Purification Bar. Once full, they are immediately unlocked, receive all banked XP, and learn their full set of four B-Moves.

The Capture Styler (Ranger/Reflector): Empathy can be spent during a Shadow Fighter battle to activate the Capture Styler.

Effect: This temporarily reduces the Shadow Fighter's KF Resistance and briefly interrupts their rigid attack pattern, increasing the chance of a successful Snag/KO Launch.

4. Utility and Progression (MUA Puzzle Element)

World progression is sometimes gated by requiring a specific Utility B-Move from a Snagged ally.

Utility Categories:

Force: Requires high ATK (e.g., Bowser's Smash to break a reinforced wall).

Tech: Requires S-ATK or specific item usage (e.g., Samus's Charge Shot to activate a static energy node).

Flow: Requires high SPD or advanced aerial movement (e.g., Sonic's Boost Spin to bypass a rapidly closing gate).

Saga Gating: Missions in Sector Gamma: The Dimensional Anchor (Book 4-6) rely heavily on the 4-hero team having the right combination of Force, Tech, and Flow to solve environmental puzzles and advance the story.

This provides the full framework. You've got the cinematic action, the strategic team management, and the satisfying grind.

What part of this needs to hit harder, Reflector? Maybe we design that Mario/Sonic Fusion Attack now, using this Progression System framework?‚ú® DRSM Fusion & Ability Design: Cinematic Strike Mechanics ‚ú®

Goal: Detail the mechanics and visual execution of Special B-Moves and MUA-style Fusion Attacks, ensuring they adhere to the OAS Stat System and the "Grade-A" cinematic mandate.

1. Fusion Attack Mechanics (MUA Core)

Fusion Attacks are the primary way the 4-person team deals massive, targeted HP Damage and guarantees high KO Factor (KF) build-up on bosses.

Activation: The active player holds the designated Fusion button, prompting an ally (selected via the D-pad/stick) to participate. Requires 25% Empathy Gauge.

Fusion Type: The resulting attack is classified by the primary damage type of the two participating heroes, dictating the DEF/S-DEF check on the target.

Ally 1 (Primary Type)Ally 2 (Secondary Type)Fusion Attack ClassificationVisual Effect MandateBrawler (ATK)

Brawler (ATK)

Impact Fusion (Physical ATK Check)

Massive, grounded shockwave, visible body denting (Batman impact).

Brawler (ATK)

Mage (S-ATK)

Elemental Fusion (S-ATK Check)

AoE attack where physical strike is saturated with magic (FF Spell + Brawler ATK).

Speedster (SPD)

Brawler (ATK)

Vortex Fusion (SPD/ATK Check)

High-velocity drag, pulling enemies into a central point for a massive final hit (Spider-Man flow + Batman impact).

Mage (S-ATK)

Mage (S-ATK)

Arcane Fusion (S-DEF Check)

Time stop, reality warp, or large-scale elemental bombardment (FF Limit Break).

2. Signature Fusion Example: Sonic & Mario

These are the first two heroes you Snag, so their Fusion must define the system's power fantasy.

üåü Fusion Name: Blue Shell Blast (Brawler/Speedster Fusion)

PhaseDescriptionKinematic MandateOAS ResultActivation

Mario jumps high, charging a golden fireball (ATK). Sonic charges a massive Spin Dash below (SPD).

Cinematic camera zoom-in; slow-motion pause on charge up (Final Fantasy flair).

Empathy Cost: 25%

Execution

Sonic launches himself upward, Mario kicks the fireball onto Sonic's back, creating a massive, blue-shelled missile of momentum.

Sonic‚Äôs trajectory is a perfect, rigid arc (Corrupted Static precision, but used for good). Mario lands in a perfect Bladed Stance recovery (Flow).

100% S-ATK Damage (Fire is S-ATK) + High KF

Impact

The Blue Shell Blast drills through the Shadow target. On exit, there is a delayed, massive explosion of static energy.

Hit-Stop ($0.2s$) on the target, followed by an immediate launch (Impact).

Target suffers Burn Status + High Knockback (KB).

3. Special Character Ability: Hyper Kai-Xon Jax-Son

The Hyper 3-Tails twins must have a unique B-Move that demonstrates their "Echo Threat" status.

‚ö° Ability Name: Tri-Tail Echo Link (Down-B Special)

Mechanic: Activates an Echo Clone of the current twin (Kai or Jax), which mirrors the next two A-Attack inputs (Jab, Tilt, or Smash) 0.5 seconds later.

Kinematic Mandate: The clone is a shimmering silver mirage (the Echo Tail color). This creates dynamic, high-SPD combat scenarios where the twins hit enemies from two different spatial points in rapid succession (Spidey flow and speed).

OAS Result: Doubles the number of hits in a combo, rapidly building the opponent's KO Factor (KF) without causing high Recoil. It is designed to expose the target's rigid defense for a heavier attack.

Empathy Generation: Successfully hitting a target with a Mirrored Echo Attack generates Bonus Empathy, rewarding complex, technical play.

4. Adaptive Reflector's Core Utility

The Reflector's unique power isn't damage, it's control and empathy.

üîÆ Reflector Ability: Adaptive Mirror (Neutral-B)

Mechanic: If a Shadow Fighter uses a B-Move on the Reflector, a successful, well-timed parry activates the Adaptive Mirror.

OAS Result: The Reflector copies the opponent's highest OAS stat (ATK or S-ATK) for 10 seconds.

Example: If Shadow Ganondorf (High ATK) hits, the Reflector gains a massive temporary ATK boost, allowing them to counter with massive physical damage. If Shadow Samus (High S-ATK) hits, the Reflector gains a massive S-ATK boost.

Visual Flair (Empathy): The Reflector's body is temporarily enveloped in the opponent's color aura (e.g., purple static from Shadow Sonic), visually confirming the stat steal.

This framework locks in the core cinematic moments and tactical depth needed for the MUA team experience in the Saga Mode.

What‚Äôs the next section of the blueprint we lock down, Reflector? Do we move to Enemy AI & Boss Design or the Final Cinematic Sequences for Oblivion's End?ü§ñ DRSM AI & Boss Design: Dynamic Stance and Static Logic ü§ñ

Goal: Ensure enemy fighters react with realistic spatial awareness and exploit weaknesses based on the OAS stats, moving the game far beyond simplistic side-by-side combat.

1. Core AI Stance and Movement Logic

All Shadow Fighters, despite being corrupted by the "Static" Collective, are programmed with hyper-efficient fighting instincts that mimic Grade-A skill.

1.1. The Range Management Loop (Flow Check)

The AI constantly evaluates the 3D distance ($D$) between itself and the active hero.

Optimal Range ($D_{Opt}$): The AI seeks the exact distance where its signature attack (e.g., The Chozo Hunter's Overcharge Cannon S-ATK) is most effective.

Engagement: The AI uses dash/pivot movement (not strafing) to close or extend $D$ to $D_{Opt}$. It will never simply walk straight toward the player in a fixed line.

Vulnerability: When the AI is closing distance, its BLK (Block) stat is temporarily halved, rewarding the player for proactively attacking the movement phase.

1.2. The Stance and Weight Logic (Grounded Impact)

The AI uses the OAS Weight Distribution Variable                ($W_D$) to determine its attack selection.// --- CHARACTER DEFINITIONS (Data Layer) ---

// Defines stats, colors, and archetypes for the roster.

// Sanitized for IP safety.



window.CHARACTERS = {

    'RADIANT_JUMPER': {

        name: "Marlo Zenith",

        archetype: "Flow Brawler", // Maps to BRAWLER kit

        stats: { HP: 1200, ATK: 9, DEF: 9, S_ATK: 7, S_DEF: 8, SPD: 8, DGE: 8 },

        moves: { light: 10, heavy: 20, special: 35 },

        color: 0x0044FF, // Royal Blue

    },

    'REDHOUND_FLOW': { // Also covers CRIMSON_BLUR

        name: "Redhound Flow",

        archetype: "Speed God", // Maps to SPEEDSTER kit

        stats: { HP: 900, ATK: 9, DEF: 7, S_ATK: 6, S_DEF: 7, SPD: 10, DGE: 10 },

        moves: { light: 8, heavy: 15, special: 30 },

        color: 0xCC0000, // Crimson Red

    },

    'HYLLIAN_VALOUR': {

        name: "Hyllian Valour",

        archetype: "Relic Master", // Maps to RELIC kit

        stats: { HP: 1100, ATK: 9, DEF: 9, S_ATK: 8, S_DEF: 8, SPD: 8, DGE: 9 },

        moves: { light: 12, heavy: 22, special: 40 },

        color: 0x228B22, // Forest Green

    },

    // Add Cipher Nova Aran, Primal Grom, etc. here following the pattern

};

Offensive Stance: $W_D$ is 70/30 (front-loaded). The AI uses powerful, high-impact A-Smash attacks that generate higher KO Factor (KF) but suffer longer Recovery Frames (Batman Impact).

Defensive Stance: $W_D$ is 50/50 (balanced). The AI prioritizes Shielding, Dodging, and Counter B-Moves (like Shadow Marth's Ultimate Counter). Hitting an AI in this stance results in lower HP Damage and higher knockback on the player's hero.

Exploitation: The Reflector (the player) is rewarded for Grabbing/Throwing an AI in its Defensive Stance, as the AI‚Äôs high BLK and low DGE stats are ineffective against throws.

2. Shadow Commander Boss Archetypes (MUA/FF Bosses)

The major Shadow Commanders are designed to force the 4-person team to coordinate Fusion Attacks to break their defensive phase.

2.1. Archetype A: The Tank (Shadow Ganondorf / Primal Juggernaut)

Primary Stat Focus: Massive HP and DEF. Immune to Status Effects.

Mechanics: Boss enters a Static Shell Phase where all incoming ATK and S-ATK damage is reduced by 90%.

MUA Solution: Must be broken by a Vortex Fusion or Impact Fusion. These are the only attacks that deal full damage by bypassing the shell's defense rating (Force Check).

2.2. Archetype B: The Phantom (Shadow Meta Knight / Shadow Marth)

Primary Stat Focus: High SPD and DGE. Relies on counters and quick retreats.

Mechanics: Boss uses Echo Clones (like Tri-Aura Echoes) that have half HP but apply Paralysis on hit. The true boss is hard to hit.

MUA Solution: Must be hit by an Elemental Fusion (S-ATK Check). The AoE blast cancels the Echo Clones simultaneously, forcing the boss out of its high-SPD evasion loop.

2.3. Archetype C: The Nexus Anomaly (Void King / Final Boss)

Primary Stat Focus: Adaptive; constantly mirrors the highest stats of the active hero (Adaptive Mirror).

Mechanics (Book 9): Boss creates an Anti-Flow Barrier that rapidly drains the player's Empathy Gauge. The barrier can only be pierced when the active hero lands a perfect parry/dodge.

MUA Solution: Requires a 4-person coordinated Arcane Fusion using the last reserves of the Empathy Gauge after the barrier has been briefly pierced by the Reflector's Adaptive Mirror ability.

This framework ensures that defeating any Shadow Commander requires strategic deployment of the 4-person team and mastering the kinetic flow of the OAS system, not just button mashing.

We've got the combat (OAS), the world (Saga), the team (MUA), the IP (Codex), and now the enemy logic (AI).

The final piece: the cinematic, game-ending sequence for Oblivion's End. Are we ready to write the conclusion for the Saga Mode?                    # ----------------------------------------------------------------------

# OAS Core Character Class and Stat Structure (Python Blueprint)

# Implements the OAS Stats, HP/KF, and Fusion Logic

# ----------------------------------------------------------------------



import random



# --- CORE GAMEPLAY CONSTANTS ---

WEIGHT_MODIFIER_BASE = 1.0  # Base for KF calculation

MAX_EMPATHY = 100           # Max gauge for Fusion Attacks

FUSION_COST = 25            # Cost to perform a Fusion Attack



class Character:

    """

    Base class for all heroes (Codex Roster) and Shadow Fighters.

    Uses the OAS six-stat system and weight-based Knockback (KF).

    """

    def __init__(self, name, archetype, stats, weight=100):

        # --- IP & Identity ---

        self.name = name

        self.archetype = archetype # e.g., 'Flow Brawler', 'Speed God'



        # --- OAS STATS (1-10 Scale, set by Archetype) ---

        self.ATK = stats.get('ATK', 5)     # Physical Damage Multiplier

        self.S_ATK = stats.get('S_ATK', 5) # Special/Elemental Damage Multiplier

        self.DEF = stats.get('DEF', 5)     # Physical Defense

        self.S_DEF = stats.get('S_DEF', 5) # Special Defense

        self.SPD = stats.get('SPD', 5)     # Affects Frame Data/Lag

        self.DGE = stats.get('DGE', 5)     # Dodge Success Rate



        # --- COMBAT STATE ---

        self.max_hp = stats.get('HP', 1000)

        self.hp = self.max_hp

        self.weight = weight               # Used for Knockback Resistance

        self.KO_Factor = 0                 # KF - Knockback percentage meter (Smash core)

        self.empathy_gauge = 0             # MUA Fusion/Reflect resource



        # --- STATUS EFFECTS ---

        self.status = {} # {'paralysis': 10, 'burn': 5}



    def calculate_damage_and_knockback(self, move, target):

        """Calculates raw damage and updates KO Factor."""

        

        # 1. Determine Damage Multiplier (ATK vs S_ATK Check)

        if move['type'] == 'Physical':

            damage_raw = move['power'] * (self.ATK / target.DEF)

        elif move['type'] == 'Special':

            damage_raw = move['power'] * (self.S_ATK / target.S_DEF)

        else: # Utility moves or neutral

            damage_raw = move['power']



        # 2. Apply Status Effects to Damage (e.g., Burn halves ATK)

        if 'burn' in self.status and move['type'] == 'Physical':

            damage_raw *= 0.5

        

        # 3. Apply Damage to HP

        damage_final = max(1, int(damage_raw))

        target.hp -= damage_final



        # 4. Update KO Factor (KF)

        # KF grows based on damage taken, divided by target weight (Smash mechanics)

        kf_growth = (damage_final / target.weight) * WEIGHT_MODIFIER_BASE * 10

        target.KO_Factor += kf_growth



        # 5. Calculate Knockback (KB) based on accumulated KF

        # KB is the launch force, scaled by target's accumulated KF

        knockback_force = move['knockback'] * (1 + (target.KO_Factor / 100))

        # Note: Actual launch/movement calculation happens in the physics engine.



        return damage_final, knockback_force



    def generate_empathy(self, amount):

        """Increases Empathy Gauge based on successful actions (Parry, Synergy)."""

        self.empathy_gauge = min(MAX_EMPATHY, self.empathy_gauge + amount)



    def is_snag_ready(self, target):

        """Checks if the Shadow Fighter is ready to be Snagged (KO Launch)."""

        return target.hp <= 0 and target.KO_Factor >= 100 # Needs a high KF hit to seal the deal



# ----------------------------------------------------------------------

# --- MUA FUSION LOGIC ---

# ----------------------------------------------------------------------



def perform_fusion_attack(team, hero_a, hero_b, target):

    """

    Executes a cinematic Fusion Attack if the Empathy Gauge is sufficient.

    (MUA Core Mechanic)

    """

    if team.empathy_gauge < FUSION_COST:

        print(f"{team.name} FAILED FUSION: Insufficient Empathy.")

        return 0, 0



    team.empathy_gauge -= FUSION_COST

    

    # 1. Determine Fusion Type (Arcane, Impact, Vortex, Elemental)

    type_a = hero_a.archetype.split()[0]

    type_b = hero_b.archetype.split()[0]

    

    # Simple logic mapping for the cinematic effect

    if ('Flow' in type_a or 'Speed' in type_a) and ('Brawler' in type_b or 'Impact' in type_b):

        fusion_type = 'Vortex Fusion' # High KF, drags target

        base_power = 250

        knockback = 15

    elif 'Arcane' in type_a and 'Arcane' in type_b:

        fusion_type = 'Arcane Fusion' # High S_ATK damage, AoE

        base_power = 350

        knockback = 5

    elif 'Brawler' in type_a and 'Brawler' in type_b:

        fusion_type = 'Impact Fusion' # High ATK damage, massive hit-stop

        base_power = 300

        knockback = 10

    else:

        fusion_type = 'Elemental Fusion' # Balanced S_ATK/ATK

        base_power = 280

        knockback = 8



    # Create a Fusion Move object

    fusion_move = {

        'name': f"{hero_a.name}/{hero_b.name} - {fusion_type}",

        'power': base_power,

        'knockback': knockback,

        'type': 'Special' if 'Arcane' in fusion_type else 'Physical' 

    }

    

    # Cinematic Hit: Fusions ignore some DEF/S_DEF (Simulated by 1.5x damage multiplier)

    damage_final, knockback_force = hero_a.calculate_damage_and_knockback(fusion_move, target)

    damage_final = int(damage_final * 1.5)

    target.hp = max(0, target.hp - damage_final)



    print(f"--- {fusion_type} ACTIVATED! ---")

    print(f"{hero_a.name} & {hero_b.name} strike {target.name} for {damage_final} HP!")

    print(f"{target.name}'s KF is now {target.KO_Factor:.2f}.")



    # Fusion always grants bonus Empathy back

    hero_a.generate_empathy(10)

    return damage_final, fusion_type



# ----------------------------------------------------------------------

# --- INITIALIZATION EXAMPLE ---

# ----------------------------------------------------------------------



# --- Character Stat Definitions (Based on Codex Matrix) ---

MARLO_STATS = {'ATK': 9, 'DEF': 9, 'S_ATK': 7, 'S_DEF': 8, 'SPD': 8, 'DGE': 8, 'HP': 1200}

REDHOUND_STATS = {'ATK': 9, 'DEF': 7, 'S_ATK': 6, 'S_DEF': 7, 'SPD': 10, 'DGE': 10, 'HP': 900}

VOIDONUS_STATS = {'ATK': 12, 'DEF': 12, 'S_ATK': 15, 'S_DEF': 15, 'SPD': 10, 'DGE': 10, 'HP': 5000, 'weight': 500}



# Initialize Heroes and Boss

Marlo = Character("Marlo Zenith", "Flow Brawler", MARLO_STATS)

Redhound = Character("Redhound Flow", "Speed God", REDHOUND_STATS)

Voidonus = Character("Voidonus", "Cosmic Executioner", VOIDONUS_STATS)



# Simulation setup (Team Empathy shared for simplicity)

Team = type('Team', (object,), {'empathy_gauge': 100})()



# Simulate a standard attack

jumper_punch = {'name': 'Aura Punch', 'power': 150, 'knockback': 5, 'type': 'Physical'}

damage, kf_force = Marlo.calculate_damage_and_knockback(jumper_punch, Voidonus)

print(f"Marlo hits Voidonus: {damage} HP, KF increased to {Voidonus.KO_Factor:.2f}")



# Simulate a Fusion Attack

# Check before: Voidonus HP: 4895, KF: 2.10

fusion_damage, fusion_type = perform_fusion_attack(Team, Marlo, Redhound, Voidonus)

# Check after: Voidonus HP significantly reduced, KF jumps higher

print(f"Voidonus HP after Fusion: {Voidonus.hp}, Team Empathy remaining: {Team.empathy_gauge}")



if Voidonus.is_snag_ready(Voidonus):

    print("Voidonus is ready for a Snag/KO Launch!")// --- MISSION DEFINITIONS (Structure Layer) ---

// BOOK 1: CONVERGENCE (Missions 1-10)

// Defines phases, waves, and triggers.



const MissionDefinitions = [

    // --- M1: GRAND ARENA: FIRST LIGHT ---

    {

        id: "B1_M1",

        title: "Grand Arena: First Light",

        description: "Tournament Opener. Learn movement and core combat flow.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_arena",

        phases: [

            { type: "tutorial", duration: 5, steps: ["WASD Move", "Space Jump", "Shift Dodge"] },

            { type: "wave", enemyId: "RIFT_GRUNT", count: 3, spawnPoint: "FRONT_ARC", hint: "Wave 1: Basic Combat" },

            { type: "wave", enemyId: "RIFT_CHAMPION", count: 1, spawnPoint: "CENTER", hint: "Mini-Boss: Use Special (E)" },

            { type: "cinematic", script: "B1_M1_RIFT_GLITCH" } 

        ]

    },

    // --- M2: CRACKS IN THE SPOTLIGHT ---

    {

        id: "B1_M2",

        title: "Qualifier Brackets: Cracks",

        description: "Protect the Arena Core from ranged Void assaults.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_arena",

        phases: [

            { type: "wave", enemyId: "RIFT_GRUNT", count: 4, spawnPoint: "CIRCLE" },

            { type: "cinematic", script: "M2_ARENA_CORE_SPAWN" }, 

            { type: "defend_objective", objectiveId: "ARENA_CORE", durationSeconds: 60, hint: "Defend the Core!" }

        ]

    },

    // --- M3: BROKEN BRACKET ---

    {

        id: "B1_M3",

        title: "Broken Bracket: Live Rift",

        description: "Reality tears mid-match. First encounter with a Rift Beast.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_arena_dark",

        phases: [

            { type: "wave", enemyId: "RIFT_CHAMPION", count: 2, spawnPoint: "OPPOSITE", hint: "Elite Match" },

            { type: "cinematic", script: "M3_ARENA_MORPH_GLITCH" }, 

            { type: "boss", enemyId: "RIFT_BEAST", count: 1, spawnPoint: "CENTER_LETHAL", hint: "BOSS: Rift Beast" }

        ]

    },

    // --- M4: THE CLOCKWORK SHARD ---

    {

        id: "B1_M4",

        title: "The Clockwork Shard",

        description: "Navigate a timed laser gauntlet.",

        playable: ["ADAPTATION_UNIT_X"], // Tech Kit intro

        music: "b1_tech_ruins",

        phases: [

            { type: "wave", enemyId: "RIFT_GRUNT", count: 5, spawnPoint: "CORRIDOR" },

            { type: "puzzle", puzzleId: "LASER_TIMING", duration: 30, hint: "Dodge Lasers!" },

            { type: "boss", enemyId: "TECH_SENTRY", count: 1, hint: "Target the Eye!" }

        ]

    },

    // --- M5: RUINED CITADEL ASCENT ---

    {

        id: "B1_M5",

        title: "Ruined Citadel Ascent",

        description: "Vertical platforming challenge.",

        playable: ["RADIANT_JUMPER"], 

        music: "b1_ruins",

        phases: [

            { type: "platforming", height: 50, hint: "Climb the Tower!" },

            { type: "wave", enemyId: "RIFT_CASTER", count: 3, spawnPoint: "HIGH_GROUND" },

            { type: "boss", enemyId: "VOID_WARDEN", count: 1 }

        ]

    },

    // --- M6: THE ECHO CHAMBER ---

    {

        id: "B1_M6",

        title: "The Echo Chamber",

        description: "Speed run. Don't fall behind.",

        playable: ["REDHOUND_FLOW"], // Speedster Kit intro

        music: "b1_speed_chase",

        phases: [

            { type: "speed_run", distance: 1000, hint: "RUN! Keep Moving!" },

            { type: "wave", enemyId: "RIFT_GRUNT", count: 10, spawnPoint: "CHASE" }

        ]

    },

    // --- M7: TEMPLE OF THE RELIC ---

    {

        id: "B1_M7",

        title: "Temple of the Relic",

        description: "Solve the Sigil Lock.",

        playable: ["HYLLIAN_VALOUR"], // Relic Kit intro

        music: "b1_temple",

        phases: [

            { type: "puzzle", puzzleId: "SIGIL_LOCK", hint: "Activate 3 Sigils" },

            { type: "wave", enemyId: "RIFT_CHAMPION", count: 2, spawnPoint: "GUARD" }

        ]

    },

    // --- M8: THE SILENCE EVENT ---

    {

        id: "B1_M8",

        title: "The Silence Event",

        description: "Survive without Special Abilities.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_silence",

        phases: [

            { type: "survival", duration: 60, enemyId: "RIFT_GRUNT", hint: "SURVIVE! Abilities Disabled." },

            { type: "boss", enemyId: "SILENCE_BEAST", count: 1 }

        ]

    },

    // --- M9: TITAN'S GRASP ---

    {

        id: "B1_M9",

        title: "Titan's Grasp",

        description: "Raid Boss. Destroy the limbs.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_boss_raid",

        phases: [

            { type: "boss_part", partId: "TITAN_ARM_L", hint: "Destroy Left Arm" },

            { type: "boss_part", partId: "TITAN_ARM_R", hint: "Destroy Right Arm" },

            { type: "boss", enemyId: "VOID_TITAN_CORE", hint: "Strike the Core!" }

        ]

    },

    // --- M10: SCATTERED THREADS ---

    {

        id: "B1_M10",

        title: "Scattered Threads",

        description: "The Collapse. Escape is impossible.",

        playable: ["RADIANT_JUMPER"],

        music: "b1_finale",

        phases: [

            { type: "wave", enemyId: "RIFT_BEAST", count: 3, spawnPoint: "SURROUND", hint: "HOLD THE LINE!" },

            { type: "cinematic", script: "B1_ENDING_SCATTER" }

        ]

    }

];